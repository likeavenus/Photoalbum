[{"G:\\HTML\\Photoalbum\\src\\index.js":"1","G:\\HTML\\Photoalbum\\src\\reportWebVitals.js":"2","G:\\HTML\\Photoalbum\\src\\App.js":"3","G:\\HTML\\Photoalbum\\src\\components\\Card\\index.js":"4","G:\\HTML\\Photoalbum\\src\\components\\CardsContainer\\index.js":"5","G:\\HTML\\Photoalbum\\src\\components\\UploadFoto\\index.js":"6","G:\\HTML\\Photoalbum\\src\\components\\Popup\\index.js":"7","G:\\HTML\\Photoalbum\\src\\api\\index.js":"8","G:\\HTML\\Photoalbum\\src\\components\\Counters\\index.js":"9"},{"size":571,"mtime":1611077416144,"results":"10","hashOfConfig":"11"},{"size":375,"mtime":1610301699444,"results":"12","hashOfConfig":"11"},{"size":1986,"mtime":1611091832810,"results":"13","hashOfConfig":"11"},{"size":430,"mtime":1611256504438,"results":"14","hashOfConfig":"11"},{"size":998,"mtime":1611090727150,"results":"15","hashOfConfig":"11"},{"size":563,"mtime":1611091315355,"results":"16","hashOfConfig":"11"},{"size":362,"mtime":1611260841947,"results":"17","hashOfConfig":"11"},{"size":631,"mtime":1611077591893,"results":"18","hashOfConfig":"11"},{"size":604,"mtime":1611262610828,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"1wxd65c",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"22"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"22"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"22"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"G:\\HTML\\Photoalbum\\src\\index.js",[],["44","45"],"G:\\HTML\\Photoalbum\\src\\reportWebVitals.js",[],"G:\\HTML\\Photoalbum\\src\\App.js",["46","47"],"import React, { useState, useEffect, useRef } from 'react';\r\nimport './App.css';\r\nimport { CardsContainer } from './components/CardsContainer';\r\nimport { Upload } from './components/UploadFoto';\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/storage\";\r\n\r\nfunction App() {\r\n  const [file, setFile] = useState(null);\r\n  const [uploadError, setUploadError] = useState(false);\r\n  const [uploadingState, setUploadingState] = useState(false);\r\n  const fileInput = useRef(null);\r\n\r\n  const [photos, setPhotos] = useState([]);\r\n  const storageRef = firebase.storage().ref();\r\n  const listRef = storageRef.child('images/');\r\n  const metadata = {\r\n    contentType: 'image/jpeg'\r\n  };\r\n\r\n  const fetchData = async () => {\r\n    const promise = await listRef.listAll();\r\n    const items = await promise.items;\r\n    return Promise.all(items.map(item => item.getDownloadURL().then((data) => data)));\r\n  }\r\n\r\n  const onInputChange = (e) => {\r\n    setFile(null);\r\n    setFile(e.target.files[0]);\r\n  }\r\n\r\n  const onButtonClick = () => {\r\n    if (file) {\r\n      const uploadTask = storageRef.child(`images/${file.name}`).put(file, metadata);\r\n      uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, () => {\r\n        setUploadingState(true);\r\n      }, (error) => {\r\n        setUploadError(true);\r\n        throw new Error(error);\r\n      }, () => {\r\n        uploadTask.snapshot.ref.getDownloadURL().then(function (downloadURL) {\r\n          console.log('File available at', downloadURL);\r\n          setUploadingState(false);\r\n          setFile(null);\r\n          fileInput.current.parentElement.reset();\r\n        });\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchData().then(data => setPhotos(data));\r\n  }, [file]);\r\n  return (\r\n    <div className=\"App\">\r\n      <Upload file={file} onInputChange={onInputChange} uploadingState={uploadingState} onButtonClick={onButtonClick} fileInput={fileInput} />\r\n      <CardsContainer photos={photos} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","G:\\HTML\\Photoalbum\\src\\components\\Card\\index.js",["48","49"],"import React, { useState } from 'react';\r\nimport { Counters } from '../Counters';\r\nimport styles from './styles.module.scss';\r\n\r\n\r\nexport const Card = ({ imgUrl, description, openCard }) => {\r\n    return (\r\n        <div className={styles.card}>\r\n            <div onClick={openCard}>\r\n                <img src={imgUrl} />\r\n                <p>{description}</p>\r\n            </div>\r\n            <Counters />\r\n        </div>\r\n    )\r\n}","G:\\HTML\\Photoalbum\\src\\components\\CardsContainer\\index.js",["50","51"],"import React, { useState, useEffect } from 'react';\r\nimport styles from './styles.module.scss';\r\nimport { Card } from '../Card';\r\nimport { Popup } from '../Popup';\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/storage\";\r\n\r\nexport const CardsContainer = (props) => {\r\n   const [popupSettings, setPopupSettings] = useState({\r\n      isActive: false,\r\n      item: null\r\n   });\r\n\r\n   const showImg = (item) => {\r\n      setPopupSettings({\r\n         isActive: true,\r\n         item\r\n      });\r\n   }\r\n   const closeImg = () => {\r\n      setPopupSettings({\r\n         isActive: false,\r\n         item: null\r\n      });\r\n   }\r\n\r\n   return (\r\n      <section className={styles.container}>\r\n         {popupSettings.isActive && <Popup imgUrl={props.photos.find((item) => item === popupSettings.item)} closeCard={() => closeImg()} />}\r\n         {props.photos.map((item, index) => {\r\n            return <Card key={index} imgUrl={item} openCard={() => showImg(item)} />\r\n         })}\r\n      </section>\r\n   )\r\n}","G:\\HTML\\Photoalbum\\src\\components\\UploadFoto\\index.js",["52"],"import React from 'react';\r\nimport \"firebase/storage\";\r\nimport styles from './styles.module.scss';\r\n\r\nexport const Upload = (props) => {\r\n   const handleOnSubmit = (e) => {\r\n      e.preventDefault();\r\n   };\r\n   return (\r\n      <form onSubmit={handleOnSubmit}>\r\n         <h3>Загрузите фотографию</h3>\r\n         <input type=\"file\" onChange={props.onInputChange} ref={props.fileInput} />\r\n         <button onClick={props.onButtonClick}>Отправить</button>\r\n         {props.uploadingState && <p>Загрузка</p>}\r\n      </form>\r\n   )\r\n}","G:\\HTML\\Photoalbum\\src\\components\\Popup\\index.js",["53","54","55"],"import React, { useState } from 'react';\r\nimport { Counters } from '../Counters';\r\nimport styles from './styles.module.scss';\r\n\r\nexport const Popup = ({ imgUrl, closeCard }) => {\r\n   return (\r\n      <div className={styles.popup}>\r\n         <img src={imgUrl} />\r\n         <button className={styles.closePopup} onClick={closeCard}>X</button>\r\n      </div>\r\n   )\r\n}","G:\\HTML\\Photoalbum\\src\\api\\index.js",[],"G:\\HTML\\Photoalbum\\src\\components\\Counters\\index.js",["56","57"],{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","replacedBy":"61"},{"ruleId":"62","severity":1,"message":"63","line":10,"column":10,"nodeType":"64","messageId":"65","endLine":10,"endColumn":21},{"ruleId":"66","severity":1,"message":"67","line":53,"column":6,"nodeType":"68","endLine":53,"endColumn":12,"suggestions":"69"},{"ruleId":"62","severity":1,"message":"70","line":1,"column":17,"nodeType":"64","messageId":"65","endLine":1,"endColumn":25},{"ruleId":"71","severity":1,"message":"72","line":10,"column":17,"nodeType":"73","endLine":10,"endColumn":37},{"ruleId":"62","severity":1,"message":"74","line":1,"column":27,"nodeType":"64","messageId":"65","endLine":1,"endColumn":36},{"ruleId":"62","severity":1,"message":"75","line":5,"column":8,"nodeType":"64","messageId":"65","endLine":5,"endColumn":16},{"ruleId":"62","severity":1,"message":"76","line":3,"column":8,"nodeType":"64","messageId":"65","endLine":3,"endColumn":14},{"ruleId":"62","severity":1,"message":"70","line":1,"column":17,"nodeType":"64","messageId":"65","endLine":1,"endColumn":25},{"ruleId":"62","severity":1,"message":"77","line":2,"column":10,"nodeType":"64","messageId":"65","endLine":2,"endColumn":18},{"ruleId":"71","severity":1,"message":"72","line":8,"column":10,"nodeType":"73","endLine":8,"endColumn":30},{"ruleId":"62","severity":1,"message":"78","line":6,"column":11,"nodeType":"64","messageId":"65","endLine":6,"endColumn":22},{"ruleId":"62","severity":1,"message":"79","line":6,"column":24,"nodeType":"64","messageId":"65","endLine":6,"endColumn":38},"no-native-reassign",["80"],"no-negated-in-lhs",["81"],"no-unused-vars","'uploadError' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","ArrayExpression",["82"],"'useState' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useEffect' is defined but never used.","'firebase' is defined but never used.","'styles' is defined but never used.","'Counters' is defined but never used.","'viewCounter' is assigned a value but never used.","'setViewCounter' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"83","fix":"84"},"Update the dependencies array to be: [fetchData, file]",{"range":"85","text":"86"},[1707,1713],"[fetchData, file]"]